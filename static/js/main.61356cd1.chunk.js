(this.webpackJsonpwokelordclient=this.webpackJsonpwokelordclient||[]).push([[0],{20:function(e,t,n){"use strict";n.r(t),n.d(t,"buildFloor",(function(){return i})),n.d(t,"getTower",(function(){return l})),n.d(t,"getPopulation",(function(){return m})),n.d(t,"getMoney",(function(){return d})),n.d(t,"endMonth",(function(){return h})),n.d(t,"getFloorRooms",(function(){return v})),n.d(t,"buildRoomOnFloor",(function(){return y}));var a=n(2),o=n.n(a),r=n(10),c=n(17),s="https://wokelordserver.herokuapp.com";function i(e,t){return console.log("Attempting to build a floor..."+t),t=parseInt(t),c.post(s+"/game/buildfloor/".concat(e,"/").concat(t))}function l(e){return u.apply(this,arguments)}function u(){return(u=Object(r.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.get(s+"/game/loadtower/".concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return p.apply(this,arguments)}function p(){return(p=Object(r.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.get(s+"/game/getpopulation/".concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=Object(r.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.get(s+"/game/getmoney/".concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return b.apply(this,arguments)}function b(){return(b=Object(r.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.get(s+"/game/updatemonth/".concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return g.apply(this,arguments)}function g(){return(g=Object(r.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.get(s+"/game/loadrooms/".concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t,n,a,o,r,i){var l={roomName:n,roomType:a,maintenance:r,happiness:i,rent:o};return c.post(s+"/game/buildroom/".concat(e,"/").concat(t),l)}},32:function(e,t,n){},36:function(e,t,n){e.exports=n(74)},41:function(e,t,n){},42:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},54:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(8),c=n.n(r),s=(n(41),n(42),n(2)),i=n.n(s),l=n(10),u=n(4),m=n(3),p=n(5),d=n(6),f=n(7),h=(n(44),n(45),function(e){for(var t=Array(),n=0;n<e.stars;n++)t.push(n);return o.a.createElement("span",null,t.map((function(e){return o.a.createElement("i",{key:e,className:"fas fa-star"})})))}),b=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={money:0},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return a.createElement("div",{className:"gamebar"},a.createElement("div",{className:"money gamebarItem"},a.createElement("span",null,"Funds: "),this.props.gameState.money),a.createElement("div",{className:"happiness gamebarItem"},a.createElement("span",null,"Happiness: "),this.props.gameState.happiness),a.createElement("div",{className:"gamebarItem"},a.createElement("span",null,"Star Level: ",a.createElement(h,{stars:this.props.gameState.starLevel}))),a.createElement("div",{className:"gamebarItem"},a.createElement("span",null,"Population: "),this.props.gameState.population),a.createElement("button",{className:"nextmonthbutton",onClick:this.props.endMonthHandler},"Collect Rent $$$"))}}]),t}(a.Component),v=n(13),g=n(18),y=(n(46),function(e){var t=a.useState(null),n=Object(g.a)(t,2),o=(n[0],n[1]);return a.createElement("div",{className:e.type,onClick:function(e){o(e.currentTarget)}})}),w=(n(47),n(92)),k=(n(48),function(e){return o.a.createElement("button",{className:"newroombutton",onClick:function(){return e.clickHandler(e.roomName,e.roomType)}},e.roomType,o.a.createElement("span",{className:"tooltiptext"},o.a.createElement("p",null,"Cost: ","office"===e.roomType?5e3:"condo"===e.roomType?2e4:"apartment"===e.roomType?8e3:"restaurant"===e.roomType?2e4:"hotel"===e.roomType?5e3:"cleaning"===e.roomType?1e4:void 0),o.a.createElement("p",null,"Tenants: ","office"===e.roomType?8:"condo"===e.roomType?4:"apartment"===e.roomType?3:"restaurant"===e.roomType?2:"hotel"===e.roomType?1:"cleaning"===e.roomType?4:void 0)))}),E=(n(49),function(e){return o.a.createElement("div",{className:"RoomBuildMenu"},Array.from(e.roomTypeList).map((function(t){return o.a.createElement(k,{key:t,clickHandler:e.clickHandler,roomType:t,roomName:"Foo"},t)})))}),O=function(e){var t=a.useState(null),n=Object(g.a)(t,2),o=n[0],r=n[1];return a.createElement("div",{className:"newRoomButton"},a.createElement("button",{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){r(e.currentTarget)}},"+"),a.createElement(w.a,{id:"simple-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:function(){r(null)}},a.createElement(E,{roomTypeList:e.roomTypeList,clickHandler:e.clickHandler})))},j=(n(54),n(20)),N=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={number:n.props.number,rooms:Array(),_id:n.props._id,showMenu:!1},n.toggleMenu=function(){n.state.showMenu?n.setState({showMenu:!1}):n.setState({showMenu:!0})},n.componentDidMount=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.getFloorRooms(n.state._id);case 2:t=e.sent,console.log("Rooms Obj"),console.log(t),n.setState({rooms:t.data[0].rooms});case 6:case"end":return e.stop()}}),e)}))),n.addRoom=function(){var e=Object(l.a)(i.a.mark((function e(t,a){var o,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 0,0,0,e.next=5,j.buildRoomOnFloor(n.props.towerName,n.state._id,t,a,0,0,0);case 5:return o=e.sent,console.log(o),e.next=9,j.getFloorRooms(n.state._id);case 9:r=e.sent,console.log("New Floor Obj"),console.log(r),n.setState({rooms:r.data[0].rooms}),n.props.updateGameState();case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return a.createElement("div",{className:"floor"},a.createElement("div",{className:"rooms"},this.state.rooms.map((function(t){return a.createElement(y,{name:t.name,type:t.type,tenants:t.tenants,floorId:e.state._id,_id:t._id,happiness:t.happiness,rent:t.rent,maintenance:t.maintenance,key:t._id})}))),a.createElement(O,{roomTypeList:this.props.availableRoomTypes,clickHandler:this.addRoom}))}}]),t}(a.Component),T=(n(72),n(73),function(e){return a.createElement("button",{className:"newFloorButton",onClick:e.onClick},a.createElement("span",{className:"tooltiptext"},"Click to build a new floor for $100,000"))}),S=n(34),x=(n(32),n(21)),R=function(e){var t=(7*e.towerHeight-6).toString()+"em",n=1e3*e.towerHeight,r=Object(a.useState)(!1),c=Object(g.a)(r,2),s=c[0],i=c[1],l=Object(x.b)({config:{duration:n},bottom:s?t:"1em"});return o.a.createElement("div",null,o.a.createElement(x.a.div,{onClick:function(){return i(!s)},className:"elevatorCar",style:l}))},C=(S.a.div({hidden:{bottom:0,transition:{duration:5e3}},visible:{bottom:2500,transition:{duration:5e3}}}),function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={isVisible:!0},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){this.state.isVisible;return o.a.createElement("div",{className:"left"===this.props.position?"leftElevator":"rightElevator"},o.a.createElement(R,{towerHeight:this.props.towerHeight}))}}]),t}(o.a.Component)),M=n(20),A=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={floors:Array(),name:n.props.name,money:0,floorsAdded:!1},n.addFloor=Object(l.a)(i.a.mark((function e(){var t,a,o,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.state.floors.length<20)){e.next=19;break}return console.log(n.state.floors.length),t=n.state.floors[n.state.floors.length-1],console.log(t),a=t?t.number+1:0,o=Array(),e.next=8,M.buildFloor(n.state.name,a);case 8:r=e.sent,console.log("Tower Json..."),console.log(r),c=r.data.floors[r.data.floors.length-1],console.log(c),n.state.floors.forEach((function(e){o.push(e)})),o.push(c),n.handleUpdateGameState(),n.setState({floors:o}),e.next=20;break;case 19:alert("You can't build any higher because you'd block some NIMBY's view... or rather you'd 'Change the character of the neighborhood'. Game over.");case 20:case"end":return e.stop()}}),e)}))),n.handleAddFloor=function(){console.log(Object(v.a)(n)),n.addFloor()},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.getTower(this.state.name);case 2:t=e.sent,n=Array(),t.data[0].floors&&(console.log(t.data[0].floors),t.data[0].floors.forEach((function(e){n.push(e)}))),console.log(n),n=n.sort((function(e,t){return e.number-t.number})),console.log(n),this.setState({floors:n});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleUpdateGameState",value:function(){this.props.updateGameState()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"outerTower"},o.a.createElement(T,{onClick:this.addFloor}),o.a.createElement("div",{className:"innerTower"},o.a.createElement(C,{towerHeight:this.state.floors.length,position:"left",clickHandler:function(){}}),o.a.createElement("div",{className:"floors"},this.state.floors.map((function(t){return o.a.createElement(N,{key:t.number,availableRoomTypes:e.props.availableRoomTypes,number:t.number,_id:t._id,towerName:e.state.name,updateGameState:e.props.updateGameState})}))),o.a.createElement(C,{towerHeight:this.state.floors.length,position:"right",clickHandler:function(){}})))}}]),t}(o.a.Component),H=n(20),F=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={money:1e5,towerName:n.props.towerName,starLevel:1,happiness:50,population:0,availableRoomTypes:new Set},n.updateGameState=Object(l.a)(i.a.mark((function e(){var t,a,o,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.getPopulation(n.state.towerName);case 2:return t=e.sent,e.next=5,H.getMoney(n.state.towerName);case 5:a=e.sent,console.log(t.data),o=n.getStarLevel(t.data),r=n.getAvailableRooms(o),n.setState({population:t.data,money:a.data,starLevel:o,availableRoomTypes:r});case 10:case"end":return e.stop()}}),e)}))),n.endMonth=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.endMonth(n.state.towerName);case 2:return e.sent,e.next=5,n.updateGameState();case 5:e.sent;case 6:case"end":return e.stop()}}),e)}))),n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"getAvailableRooms",value:function(e){var t=new Set;return t.add("apartment"),t.add("office"),e>1&&(t.add("condo"),t.add("restaurant")),e>2&&(t.add("hotel"),t.add("cleaning")),e>3&&t.add("test"),t}},{key:"getStarLevel",value:function(e){var t=1;return e>200&&(t=2),e>500&&(t=3),e>1e3&&(t=4),e>2e3&&(t=5),t}},{key:"componentDidMount",value:function(){this.updateGameState()}},{key:"render",value:function(){return a.createElement("div",{className:"game"},a.createElement(b,{gameState:this.state,endMonthHandler:this.endMonth}),a.createElement(A,{availableRoomTypes:this.state.availableRoomTypes,name:this.state.towerName,updateGameState:this.updateGameState}))}}]),t}(a.Component),G=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(F,{towerName:"demoeleven"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[36,1,2]]]);
//# sourceMappingURL=main.61356cd1.chunk.js.map